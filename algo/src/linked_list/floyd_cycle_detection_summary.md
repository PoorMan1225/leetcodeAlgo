
# 토끼와 거북이 알고리즘(Floyd's Cycle Detection) 이해 과정 정리

## ✅ 순환 구조 확인은 어떻게 가능한가?

- 토끼(Hare): 한 번에 2칸 이동
- 거북이(Tortoise): 한 번에 1칸 이동
- 만약 사이클(순환)이 존재한다면, 빠른 쪽(토끼)이 느린 쪽(거북이)을 언젠가 따라잡음
- 이는 마치 시계의 시침과 분침이 결국 만나는 것과 동일한 원리

---

## ✅ 순환의 시작점을 찾는 방법

1. 처음에는 거북이와 토끼를 같은 시작점(head)에서 시작
2. 둘이 만나는 지점을 찾을 때까지 위처럼 이동
3. 만났다면, 거북이를 다시 `head`로 이동시킴
4. 토끼는 현재 위치에서 그대로
5. 이후 **거북이와 토끼를 모두 1칸씩 이동**시키면
6. **다시 만나는 지점이 바로 순환의 시작점**

---

## ❓ 왜 순환의 시작점에서 만나게 되는가?

- 거북이의 총 이동 거리: `L + x`  
- 토끼의 총 이동 거리: `2(L + x)`(토끼는 2칸씩 이동하므로)
- 따라서 거리 차: `L + x`
- 이 차이는 순환 구조 안을 돈 거리이므로 → `C(순환 길이)`의 배수 (왜냐하면 거북이를 토끼가 따라잡았을 때는 k바퀴를 돌았을때 이므로)
- 즉, `2(L + x) = L + (k * C)`
- 여기서는 순환이 시작되는 시점 즉 L 을 구하는 것이므로 `L = K*C - 2x` 이다.
- 결국 L도 모르고 토끼는 2x만큼만 가면 되는데 같이 한칸씩 증가시켜서 순환점을 확인하는 수 밖에 없다.
- 왜냐하면 여기서 2x 를 모르기 때문에 한칸씩 앞으로가서 만나는지점을 체크하는 수 밖에 없기 때문이다. 

이를 기반으로,

- 거북이를 다시 `head`로 보내고
- 토끼는 현재 위치에서 시작해 **둘 다 1칸씩 이동**
- 거북이는 `L`칸을 가야 시작점에 도달
- 토끼도 `L`칸을 가면 결국 순환의 시작점에서 만나게 됨

---

## 💡 직관적인 이해 (예시)

- 거북이가 반 바퀴 돌았을 때
- 토끼는 한 바퀴 + 반 바퀴를 돈 셈
- 둘은 결국 같은 지점(=원 위의 같은 위치)에 서게 됨

---

## 🤔 가장 헷갈렸던 부분: 왜 `C`의 배수가 되는가?

- 토끼는 거북이보다 항상 1칸씩 더 빠르게 이동
- 이 거리 차가 점점 줄어들며 결국 같은 지점에서 만나게 되는데,
- 이 줄어든 거리의 총합이 결국 **순환의 길이(C)의 배수**
- 이건 수학적으로도, 시계처럼 도는 구조에서도 당연한 일

